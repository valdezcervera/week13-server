'use strict';
const Batch = require('./models/OLDbatch')
module.exports = (sequelize, DataTypes) => {
    const User = sequelize.define('User', {
        user_id: {
            type: DataTypes.INTEGER,
            autoIncrement: true,
            primaryKey: true
        },
        first_name: {
            type: DataTypes.STRING
        },
        last_name: {
            type: DataTypes.STRING
        },
        batch_id: {
            type: {
                type: DataTypes.INTEGER
            },
            references: {
                // This is a reference to another model
                model: 'Batch',
                // This is the column name of the referenced model
                key: 'batch_id',
                // This declares when to check the foreign key constraint. PostgreSQL only.
            }
        },
        // location_id: {
        //     type: {
        //         type: DataTypes.INTEGER
        //     },
        //     references: {
        //         model: 'Location',
        //         key: 'location_id',
        //         // deferrable: Sequelize.Deferrable.INITIALLY_IMMEDIATE
        //     }
        // },
        // birthday: {
        //     type: DataTypes.STRING
        // },
        // github: {
        //     type: DataTypes.STRING
        // },
        // linkedin: {
        //     type: DataTypes.STRING
        // },
        // email: {
        //     type: DataTypes.STRING
        // },
        // picture_url: {
        //     type: DataTypes.STRING
        // },
        // picture_big_url: {
        //     type: DataTypes.STRING
        // },
        // picture_small_url: {
        //     type: DataTypes.STRING
        // },
        // is_admin: {
        //     type: DataTypes.BOOLEAN
        // },
    })
    User.belongsTo(Batch);
    return User;
    };



// module.exports = (sequelize, DataTypes) => sequelize.define('Batch', {
//         batch_id: {
//             type: DataTypes.INTEGER,
//             autoIncrement: true,
//             primaryKey: true
//         },
//         year: {
//             type: DataTypes.INTEGER
//         },
//         month: {
//             type: DataTypes.INTEGER
//         },
//     }
//     );


// module.exports = (sequelize, DataTypes) => sequelize.define('Location', {
//             location_id: {
//             type: DataTypes.INTEGER,
//             autoIncrement: true,
//             primaryKey: true
//             },
//             country: {
//                 type: DataTypes.STRING
//             },  //these should be generated at the moment of insertion (user registration)
//             province: {
//                 type: DataTypes.STRING
//             }, //these should be generated at the moment of insertion (user registration)
//             city: {
//                 type: DataTypes.STRING
//             }      //these should be generated at the moment of insertion (user registration)
//         }
//     );

// module.exports = (sequelize, DataTypes) => sequelize.define('relation', {
//             user_1_id: {
//                 type: DataTypes.INTEGER,
//                 references: {
//                     model: 'User',
//                     key: 'user_id',
//                     deferrable: DataTypes.INITIALLY_IMMEDIATE
//                 }
//             },
//             user_2_id: {
//                 type: DataTypes.INTEGER,
//                 references: {
//                     model: 'User',
//                     key: 'user_id',
//                     deferrable: DataTypes.INITIALLY_IMMEDIATE
//                 }
//             },
//             //Friendship status in number_code: 0,1,2,3
//             relationStatus: {
//                 type: DataTypes.INTEGER
//             },
//             //User who performed the last action
//             actionUser: {
//                 type: DataTypes.INTEGER,
//                 references: {
//                     model: 'User',
//                     key: 'user_id',
//                     deferrable: DataTypes.INITIALLY_IMMEDIATE
//                 }
//             } 
//         }
//     );
